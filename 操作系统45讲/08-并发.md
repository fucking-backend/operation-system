## 锁：并发操作中，解决数据同步的四种方法（ question ）

    (1) 原子操作
    (2) 中断控制（屏蔽中断）
    (3) 自旋锁
    (4) 信号量

    
### 原子操作 & 实现原子操作

缺点：原子操作只适合于单体变量，如整数

### 中断控制（屏蔽中断） & 实现开关中断 & 嵌套使用问题

缺点：适合单核CPU

### 自旋锁 & 实现自旋锁

缺点：如果长时间等待后才能获取数据，浪费性能

### 信号量 & 实现信号量

信号量由一套数据结构和函数组成，它能使获取数据的代码执行流进入睡眠，然后在相关条件满足时被唤醒，这样就能让 CPU 能有时间处理其它任务。

解决了三个问题：**等待、互斥、唤醒**


### 思考题

请用代码展示一下自旋锁或者信号量，可能的使用形式是什么样的？