## 划分土地（上）：如何划分与组织内存？

这节课，我们先解决内存的划分方式和内存页的表示、组织问题，设计好数据结构。下一节课，我会带你在内存中建立数据结构对应的实例变量，搞定内存页的初始化问题。最后一节课，我们会依赖前面建好的数据结构，实现内存页面管理算法。

### 分段还是分页

    第一点，从表示方式和状态确定角度考虑
    第二点，从内存碎片的利用看
    第三点，从内存和硬盘的数据交换效率考虑
    段最大的问题是使得虚拟内存地址空间，难于实施

### 如何表示一个页

真实的物理内存地址空间不是连续的，这中间可能有空洞，可能是显存，也可能是外设的寄存器

### 内存区

硬件区，内核区，应用区

### 组织内存页

### 思考题

我们为什么要以 2 的（0～52）次方为页面数来组织页面呢？

### question

```sh
memarea_t ，进行内存区，解决功能分区的问题
-> memdivmer_t ，进行内存分割合并管理
-> bafhlst_t，以2的n次方对内存页面进行分组
->msadsc_t，解决单一页面管理问题

用2的N次方寻址主要有几方面原有：
1、内存对齐，提升CPU寻址速度
2、内存分配时，根据需求大小快速定位至少从哪一部分开始
3、内存分配时，并发加锁，分组可以提升效率
4、内存分配回收时，很多计算也更简单
```