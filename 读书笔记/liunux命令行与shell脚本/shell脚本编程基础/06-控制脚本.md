### 处理信号

```bash
# 生成信号
# 中断进程 ctrl+C
# 暂停进程 ctrl+Z
ps -l # 查看已停止的作业

# 捕获信号 trap命令
# 捕获Ctrl-C信号
trap "echo 'I have trapped Ctrl-C'" SIGINT
count=1
while [ $count -le 5 ]
do 
	echo "Loop #$count"
	sleep 1
	count=$[ $count+1 ]
done
echo "完结撒花"


# 捕获脚本退出
trap "echo 完结撒花" EXIT
count=1
while [ $count -le 5 ]
do 
	echo "Loop #$count"
	sleep 1
	count=$[ $count+1 ]
done


# 修改或移除捕获
# 删除已设置好的捕获
trap "echo 捕获Ctrl-C命令" SIGINT
count=1
while [ $count -le 5 ]
do 
	echo "first Loop #$count"
	sleep 1
	count=$[ $count+1 ]
done
trap -- SIGINT # 移除捕获
count=1
while [ $count -le 5 ]
do 
	echo "second Loop #$count"
	sleep 1
	count=$[ $count+1 ]
done



```

### 后台模式运行脚本

```bash
# 后台运行脚本 命令后加个&符
# 后台进程和终端生命周期绑定，终端控制台退出，后台进进程也随之退出
# 后台运行时，仍然会使用终端显示标准输出（STDOUT）和标准错误（STDERR）
./test.sh &


# 非控制台下运行脚本 nohup命令
# nohup命令将标准输出（STDOUT）和标准错误（STDERR）重定向到一个名为nohup.out的文件
nohup ./31script &
```

### 作业控制

```bash
# 查看作业 
job -l

# 重启停止的作业。后台模式重启bg，前台模式重启fg
bg 作业号
fg 作业号


# 调整谦让度 nice和renice

```


### 定时运行作业（ question question question ）



```bash
# at命令计划执行作业
at -f 31script now

# atq 命令列出等待的作业
# atrm 命令删除等待中的作业


# cron命令安排定期重复执行作业
# cron时间表
# cron时间表
# cron目录。定期执行的脚本，放到对应目录，cron会执行

# anacron程序

```